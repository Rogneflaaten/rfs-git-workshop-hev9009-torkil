---
title: " Scientific Communication, Collaboration and Design in Quantitative Research Using R"
subtitle: "R you serious, is R easy?"
logo: resources/logo-eng.png
author: "Torkil Rognefl√•ten"
affiliation: "Inland Norway University of Applied Sciences, Lillehammer, Norway"
editor_options:
  chunk_output_type: console
bibliography: resources/references.bib
csl: resources/apa.csl
format: 
  pdf:
    documentclass: scrreprt
    template-partials: 
      - before-body.tex
---

```{r}
#| include: false


library(tidyverse)
library(readxl)

```


# R you kidding me?

This is a text. It explains something important. Combining `code` and text with Quarto is ...

R you sure that R is best? Read @wickham2017r book on R and data science to find out for yourself.


## Showing of R code and output

In the `sim-rawdata.R` file I made a dataset with the following code:

```{r}
#| echo: true

# simulating a dataset
rawdata <- data.frame(y = rnorm(100, mean = 5, sd = 2),
                      z = rnorm(100, mean = 10, sd = 3))
```

This is a snippet of what the dataset looks like:

```{r}
#| echo: false

data <- read_excel("data/raw-data/rawdata.xlsx")

head(data)


```

\newpage

This is a "detailed" plot of the data with all t-test info of statistical differences between y and z.

```{r}
#| fig-cap: "**Figure 1**. R you sure about this figure? -no. Grey points indicates individual values. Red crossline indicates the group average value."
#| fig-subcap: ""
#| fig-cap-location: bottom
#| fig-width: 5.5
#| fig-height: 4.5
#| fig-dpi: 600
#| fig-align: "center"
#| echo: false

figure1 <- readRDS("./figures/figure1.RDS")

figure1
```

\newpage

The code chunk below stores statistical results and data summaries R objects, which is usefull for writing results in quarto text. 

```{r}
#| echo: true
#| eval: true

# import the statistics
stats <- readRDS("data/derived-data/stats.RDS")

# store t test results in text form
test_results <- paste0(round(diff(stats$estimate), 2), 
                       " (p = ", format.pval(stats$p.value, digits = 3),
                       ")")



# import summarized data
sum.data <- readRDS("data/derived-data/sum.data.RDS")

# store mean and sd for variable y in text form
y_sum <- paste0(sprintf("%.1f", sum.data[1, 1]),
                  " \u00b1 ",
                  sprintf("%.1f", sum.data[1, 2]))

# store mean and sd for variable z in text form
z_sum <- paste0(sprintf("%.1f", sum.data[1, 3]),
                  " \u00b1 ",
                  sprintf("%.1f", sum.data[1, 4]))

```


This paragraph utilizes the stored text objects above. z's average score of `r z_sum` was `r test_results` higher than y's average score of `r y_sum`. 


## Basic quarto text syntax

*Italic*, **Bold**, ***ItalicBold***, \textcolor{red}{red}, \textcolor{yellow}{yellow}, \textcolor{blue}{blue}, ^superscript^, ~subscript~ ...

\newpage

# References {.unnumbered}

